.f-c-simple-form-with-atoms
  position: relative
  display: flex
  flex-direction: column
  overflow: auto
  flex: 1 1 auto

  &--editing-atom
    overflow: hidden

  &__form
    max-height: 30vh
    flex: 0 0 auto
    position: relative
    z-index: 1
    background: #f2f2f2
    overflow: hidden

  &__form-toggle
    position: relative
    z-index: 2
    height: 0
    cursor: pointer

    &:after
      background: linear-gradient(0deg, rgba(0,0,0,0.28) 0%, rgba(0,0,0,0.04) 73.78%, rgba(0,0,0,0) 100%);
      height: 28px
      content: ''
      display: block
      position: absolute
      z-index: 1
      top: -28px
      left: 0
      width: 100%

  &__form-toggle-button
    +unbutton
    background: #495057
    height: 28px
    width: 36px
    display: block
    font-size: 30px
    color: $white
    position: absolute
    bottom: 0
    left: 0
    z-index: 2
    border-top-left-radius: 15px
    border-top-right-radius: 15px

  &__atoms
    flex: 1 0 auto
    position: relative
    z-index: 1
    display: flex
    flex-direction: column

  &__preview
    position: relative
    z-index: 1
    flex: 1 0 auto
    display: flex
    flex-direction: column

  &__preview-loader
    z-index: 2

  &__preview:not(&__preview--loading) &__preview-loader
    display: none

  &__iframe
    flex: 1 0 auto
    width: 100%
    position: relative
    z-index: 1
    border: 0

  &__overlay
    position: absolute
    z-index: 3
    top: 0
    left: 0
    right: 0
    bottom: 0
    display: none

  &__overlay-dismiss
    position: absolute
    z-index: 1
    top: 0
    left: 0
    width: 100%
    height: 100%

  &__overlay-inner
    margin-left: auto
    background: $white
    margin-left: auto
    width: 840px
    height: 100%
    max-width: 75%
    box-shadow: 0 0 10px 0 rgba(0,0,0,0.29)
    padding: $grid-gutter-width $grid-gutter-width 0
    display: flex
    flex-direction: column
    position: relative
    z-index: 2

    +media-breakpoint-down(sm)
      max-width: 100%

  &__overlay-scroll
    overflow-y: auto
    -webkit-overflow-scrolling: touch
    margin: 0 (( - $grid-gutter-width )) 0
    padding: 0 $grid-gutter-width $grid-gutter-width
    flex: 1 1 auto

  &--editing-atom &__overlay
    display: block

  .f-c-atoms
    &,
    .folio-react-app
      flex: 1 1 auto
      display: flex
      flex-direction: column
      height: 100%

  +media-breakpoint-down(sm)
    &__overlay-inner
      min-width: 320px
      max-width: none
      width: 100%
      height: 100%
      position: fixed
      z-index: 99
      top: 0
      left: 0
      right: auto
      bottom: auto
      padding: $grid-gutter-half

    &__overlay-scroll
      margin: 0 (( - $grid-gutter-half )) (( - $grid-gutter-half ))
      padding: 0 $grid-gutter-half $grid-gutter-half
