.f-c-simple-form-with-atoms
  position: relative
  z-index: 3
  max-width: none

  &__form
    max-height: 30vh
    flex: 0 0 auto
    position: relative
    z-index: 1
    background: #f2f2f2
    overflow: hidden

    .text-muted
      color: inherit !important

  &--expanded-form &__form
    max-height: none

  &__form-toggle
    position: relative
    z-index: 2
    height: 0
    cursor: pointer
    flex: 0 0 auto

    &:after
      background: linear-gradient(0deg, rgba(0,0,0,0.28) 0%, rgba(0,0,0,0.04) 73.78%, rgba(0,0,0,0) 100%)
      height: 28px
      content: ''
      display: block
      position: absolute
      z-index: 1
      top: -28px
      left: 0
      width: 100%

  &--expanded-form &__form-toggle
    height: $grid-gutter-width
    background: #f2f2f2
    border-bottom: 1px solid #DBDBDB

    &:after
      background: none

  &__form-toggle-button
    +unbutton
    background: #495057
    height: 28px
    width: 36px
    display: block
    position: absolute
    top: 100%
    left: 0
    margin-top: -28px
    z-index: 2
    border-top-left-radius: 15px
    border-top-right-radius: 15px

  &__form-toggle-icon
    font-size: 30px
    color: $white

  &--expanded-form &__form-toggle-icon
    transform: rotate(180deg)

  &--expanded-form &__form-toggle-inner
    height: $grid-gutter-width

  &__atoms
    flex: 1 0 auto
    position: relative
    z-index: 3
    display: flex
    flex-direction: column

  &__previews
    position: relative
    z-index: 1
    flex: 1 0 auto
    display: flex
    flex-direction: column

  &__preview
    position: relative
    z-index: 1
    flex: 1 0 auto
    display: flex
    flex-direction: column

  &__preview-loader
    z-index: 2

  &__preview:not(&__preview--loading) &__preview-loader
    display: none

  &__iframe
    flex: 1 0 auto
    width: 100%
    position: relative
    z-index: 1
    border: 0

  &__preview--initializing &__iframe
    visibility: hidden

  &__overlay
    position: fixed
    z-index: 1000
    top: 0
    left: 0
    right: 0
    bottom: 0
    display: none

  &__overlay-dismiss
    position: absolute
    z-index: 1
    top: 0
    left: 0
    width: 100%
    height: 100%

  &__overlay-inner
    margin-left: auto
    background: $white
    margin-left: auto
    width: 840px
    height: 100%
    max-width: 75%
    box-shadow: 0 0 10px 0 rgba(0,0,0,0.29)
    padding: $grid-gutter-width $grid-gutter-width 0
    display: flex
    flex-direction: column
    position: relative
    z-index: 2

    +media-breakpoint-down(sm)
      max-width: 100%

  &__overlay-scroll
    overflow-y: auto
    -webkit-overflow-scrolling: touch
    margin: 0 (( - $grid-gutter-width )) 0
    padding: 0 $grid-gutter-width $grid-gutter-width
    flex: 1 1 auto

  &--editing-atom &__overlay
    display: block

  &__title
    padding-top: $spacer
    margin-bottom: $spacer
    font-size: 14px
    font-weight: $font-weight-bold
    color: $body-color
    flex: 0 0 auto

    &--clickable
      cursor: pointer

  &__title-ico
    font-size: 16px

  &__title-arrow
    width: 0
    height: 0
    border-style: solid
    border-width: 8px 5px 0 5px
    border-color: $body-color transparent transparent transparent
    flex: 0 0 auto
    margin-left: $spacer * 2 / 3

  &--expanded-form &__title-arrow
    transform: rotate(180deg)

  .f-c-atoms
    &,
    .folio-react-app
      flex: 1 1 auto
      display: flex
      flex-direction: column
      height: 100%

  .f-c-form-footer
    position: absolute
    width: 100%
    margin-left: 0 !important
    margin-right: 0 !important

  +media-breakpoint-down(sm)
    &__overlay-inner
      min-width: 320px
      max-width: none
      width: 100%
      height: 100%
      position: fixed
      z-index: 99
      top: 0
      left: 0
      right: auto
      bottom: auto
      padding: $grid-gutter-half

    &__overlay-scroll
      margin: 0 (( - $grid-gutter-half )) (( - $grid-gutter-half ))
      padding: 0 $grid-gutter-half $grid-gutter-half

  +mq-desktop-menu
    display: flex
    flex-direction: column
    flex: 1 1 auto
    min-height: 0

    &__scroll
      display: flex
      flex-direction: column
      flex: 0 0 100%
      max-height: 100%
      overflow: auto
      overflow-y: scroll
      -webkit-overflow-scrolling: touch

    &--editing-atom &__scroll
      overflow: hidden

  @media screen and (max-width: 1699px)
    .f-c-atoms-layout-switch
      display: none

    &__preview
      &:not(:first-child)
        display: none

  @media screen and (min-width: 1700px)
    &__previews
      flex-direction: row

    &__preview
      flex: 0 0 50%
      max-width: 50%

      &:only-child
        flex: 0 0 100%
        max-width: 100%

      &:not(:first-child)
        border-left: 1px solid #DBDBDB

    &--layout-horizontal &__scroll
      flex-direction: row
      align-items: stretch
      overflow: hidden

    &--layout-horizontal &__form
      flex: 0 0 50%
      max-width: 50%
      border-right: 1px solid #DBDBDB
      max-height: none !important
      display: flex
      flex-direction: column

    &--layout-horizontal &__form-container
      padding-bottom: 95px

    &--layout-horizontal &__form-toggle
      display: none

    &--layout-horizontal &__atoms
      flex: 0 0 50%
      max-width: 50%

    &--layout-horizontal &__previews
      min-height: 0
      flex: 0 0 100%

    &--layout-horizontal &__preview
      &:first-child
        flex: 0 0 100%
        max-width: 100%

      &:not(:first-child)
        display: none

    &--layout-horizontal &__iframe
      min-height: 0 !important
      flex: 1 1 auto

    &--layout-horizontal &__form-scroll
      -webkit-overflow-scrolling: touch
      overflow-y: scroll
      flex: 1 1 auto
      min-height: 0

    &--layout-horizontal &__title-arrow
      display: none
