# frozen_string_literal: true

class AddAtomTranslations < ActiveRecord::Migration[5.2]
  def change
    rename_column :folio_atoms, :title, :title_<%= I18n.default_locale %>
    rename_column :folio_atoms, :perex, :perex_<%= I18n.default_locale %>
    rename_column :folio_atoms, :content, :content_<%= I18n.default_locale %>

    <%- (I18n.available_locales - [I18n.default_locale]).each do |locale| -%>
    add_column :folio_atoms, :title_<%= locale %>, :string
    add_column :folio_atoms, :perex_<%= locale %>, :text
    add_column :folio_atoms, :content_<%= locale %>, :text
    <%- end -%>
  end
end
